{"ast":null,"code":"var _jsxFileName = \"/Users/yangkin/Desktop/project/react/todolist_koa/src/pages/todoInfo/index.js\";\nimport React from 'react';\nimport './todoInfo.css';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport { List, message, Modal, Spin, Button } from 'antd';\n\nclass importantList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInfiniteOnLoad = () => {\n      let data = this.state.data;\n      this.setState({\n        loading: true\n      });\n\n      if (data.length > 14) {\n        message.warning('Infinite List loaded all');\n        this.setState({\n          hasMore: false,\n          loading: false\n        });\n        return;\n      }\n\n      this.fetchData(res => {\n        data = data.concat(res.results);\n        this.setState({\n          data,\n          loading: false\n        });\n      });\n    };\n\n    this.showModal = id => {\n      let formData = this.state.data;\n      let editData = {\n        title: '',\n        content: '',\n        checkImportant: false,\n        time: null\n      };\n      formData.map(item => {\n        if (item.id == id) {\n          editData.title = item.title;\n          editData.content = item.content;\n          editData.checkImportant = item.checkImportant;\n          editData.time = item.time;\n        }\n      });\n      this.setState({\n        visible: true,\n        title: editData.title,\n        content: editData.content,\n        id: id,\n        timer: editData.time,\n        checkImportant: editData.checkImportant\n      });\n    };\n\n    this.handleSubmit = e => {\n      let arr = [];\n      let formData = {\n        id: this.state.id,\n        title: this.state.title,\n        content: this.state.content,\n        checkImportant: this.state.checkImportant,\n        time: this.state.timer\n      }; // console.log(formData)\n\n      arr.push(formData);\n      window.localStorage.setItem('storageData', JSON.stringify(arr));\n      this.setState({\n        visible: false,\n        data: formData\n      });\n      e.preventDefault();\n    };\n\n    this.handleCancel = e => {\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.deleteData = index => {\n      // console.log(index)\n      let formList = this.state.data;\n      formList.splice(index, 1);\n      this.setState({\n        data: formList\n      });\n      window.localStorage.setItem('storageData', JSON.stringify(formList));\n    };\n\n    this.state = {\n      data: [],\n      loading: false,\n      hasMore: true,\n      visible: false,\n      id: 0,\n      title: '',\n      content: '',\n      timer: null,\n      checkImportant: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    let storage = window.localStorage;\n    let oldData = JSON.parse(storage.getItem('storageData'));\n\n    if (oldData) {\n      this.setState({\n        data: oldData\n      });\n    }\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  render() {\n    const visible = this.state.visible;\n    return React.createElement(\"div\", {\n      className: \"demo-infinite-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(InfiniteScroll, {\n      initialLoad: false,\n      pageStart: 0,\n      loadMore: this.handleInfiniteOnLoad,\n      hasMore: !this.state.loading && this.state.hasMore,\n      useWindow: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(List, {\n      dataSource: this.state.data,\n      renderItem: (item, index) => {\n        if (item.checked) {\n          return React.createElement(List.Item, {\n            key: item.id,\n            actions: [React.createElement(\"a\", {\n              key: \"list-loadmore-edit\",\n              onClick: this.showModal.bind(this, item.id),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 152\n              },\n              __self: this\n            }, \"Edit\"), React.createElement(\"a\", {\n              key: \"list-loadmore-delete\",\n              onClick: this.deleteData.bind(this, index),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 153\n              },\n              __self: this\n            }, \"Delete\")],\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 151\n            },\n            __self: this\n          }, React.createElement(List.Item.Meta, {\n            title: item.title,\n            description: item.time,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 154\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 159\n            },\n            __self: this\n          }, item.content), React.createElement(Modal, {\n            visible: visible,\n            centered: true,\n            footer: null,\n            width: 680,\n            onCancel: this.handleCancel,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 161\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"container\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 168\n            },\n            __self: this\n          }, React.createElement(\"form\", {\n            onSubmit: this.handleSubmit,\n            className: \"content\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 169\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 170\n            },\n            __self: this\n          }, \"\\u6807\\u9898\\uFF1A\", React.createElement(\"input\", {\n            value: this.state.title,\n            name: \"title\",\n            onChange: this.handleChange,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 171\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 173\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 174\n            },\n            __self: this\n          }, \"  \\u5185\\u5BB9:\"), React.createElement(\"textarea\", {\n            value: this.state.content,\n            name: \"content\",\n            onChange: this.handleChange,\n            rows: \"8\",\n            cols: \"46\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 175\n            },\n            __self: this\n          })), React.createElement(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            style: {\n              marginTop: 30\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 179\n            },\n            __self: this\n          }, \"\\u5B8C\\u6210\")))));\n        } else {\n          return React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 188\n            },\n            __self: this\n          });\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, this.state.loading && this.state.hasMore && React.createElement(\"div\", {\n      className: \"demo-loading-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(Spin, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default importantList;","map":{"version":3,"sources":["/Users/yangkin/Desktop/project/react/todolist_koa/src/pages/todoInfo/index.js"],"names":["React","InfiniteScroll","List","message","Modal","Spin","Button","importantList","Component","constructor","props","handleInfiniteOnLoad","data","state","setState","loading","length","warning","hasMore","fetchData","res","concat","results","showModal","id","formData","editData","title","content","checkImportant","time","map","item","visible","timer","handleSubmit","e","arr","push","window","localStorage","setItem","JSON","stringify","preventDefault","handleCancel","deleteData","index","formList","splice","handleChange","bind","componentDidMount","storage","oldData","parse","getItem","event","target","value","type","checked","name","render","marginTop"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './todoInfo.css';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport { List, message, Modal, Spin, Button,   } from 'antd';\n\n\n\nclass importantList extends React.Component {\n  \n   constructor(props) {\n     super(props);\n     this.state = {\n      data: [],\n      loading: false,\n      hasMore: true,\n      visible: false,\n      id:0,\n      title: '',\n      content: '',\n      timer: null,\n      checkImportant: false\n      \n    };\n    this.handleChange = this.handleChange.bind(this);\n   };\n  \n    componentDidMount() {\n      let storage = window.localStorage\n      let oldData = JSON.parse(storage.getItem('storageData'))\n        if(oldData) {\n          this.setState({\n              data: oldData,\n            });\n        }\n       \n      };\n    \n      handleInfiniteOnLoad = () => {\n        let { data } = this.state;\n        this.setState({\n          loading: true,\n        });\n        if (data.length > 14) {\n          message.warning('Infinite List loaded all');\n          this.setState({\n            hasMore: false,\n            loading: false,\n          });\n          return;\n        }\n        this.fetchData(res => {\n          data = data.concat(res.results);\n          this.setState({\n            data,\n            loading: false,\n          });\n        });\n      };\n      showModal = (id) => {\n        let formData = this.state.data;\n        let editData = {\n            title: '',\n            content: '',\n            checkImportant:false,\n            time:null\n\n        }\n        formData.map( item => {\n          if(item.id == id){\n              editData.title = item.title\n              editData.content = item.content\n              editData.checkImportant = item.checkImportant\n              editData.time = item.time\n          }\n          \n        })\n        this.setState({\n          visible: true,\n          title: editData.title,\n          content: editData.content,\n          id: id,\n          timer:editData.time,\n          checkImportant: editData.checkImportant\n        });\n      };\n      handleChange(event) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n    \n        this.setState({\n          [name]: value\n        });\n      };\n      handleSubmit = (e) => {\n        \n        let arr = []\n        let formData = {\n          id: this.state.id,\n          title:  this.state.title,\n          content: this.state.content,\n          checkImportant: this.state.checkImportant,\n          time: this.state.timer\n          \n        }\n          // console.log(formData)\n          arr.push(formData)\n          window.localStorage.setItem('storageData',JSON.stringify(arr))\n          this.setState({\n            visible: false,\n            data: formData\n          })\n\n          e.preventDefault();\n      };\n      handleCancel = e => {\n        this.setState({\n          visible: false,\n        });\n      };\n     \n    deleteData=(index)=>{\n      // console.log(index)\n      let formList  = this.state.data\n      formList.splice(index,1)\n      this.setState({\n        data: formList\n      })\n      \n      window.localStorage.setItem('storageData',JSON.stringify(formList));\n\n  };\n      render() {\n        const { visible} = this.state;\n      \n        return (\n         \n          <div className=\"demo-infinite-container\">\n            \n            <InfiniteScroll\n              initialLoad={false}\n              pageStart={0}\n              loadMore={this.handleInfiniteOnLoad}\n              hasMore={!this.state.loading && this.state.hasMore}\n              useWindow={false}\n            >\n              <List\n                dataSource={this.state.data}\n                renderItem={(item,index)=> {\n                  if(item.checked){\n                    return (<List.Item key={item.id}\n                    actions={[<a key=\"list-loadmore-edit\" onClick={this.showModal.bind(this,item.id)}>Edit</a>, \n                    <a key=\"list-loadmore-delete\" onClick={this.deleteData.bind(this,index)}>Delete</a>]}>\n                      <List.Item.Meta\n                        title={item.title}\n                        description={item.time}\n                      />\n                     \n                          <div >{item.content}</div>\n                \n                      <Modal\n                        visible={visible}\n                        centered = {true}\n                        footer = {null}\n                        width={680}\n                        onCancel={this.handleCancel}\n                      >\n                          <div className=\"container\">\n                            <form onSubmit={this.handleSubmit} className=\"content\">\n                              <label>标题：\n                                <input value={this.state.title} name=\"title\" onChange={this.handleChange}/>\n                                </label>\n                              <div className=\"center\"> \n                                <span>  内容:</span>\n                              <textarea value={this.state.content} name=\"content\" onChange={this.handleChange} rows='8' cols='46'/>\n                              \n                              </div>\n                              \n                              <Button type=\"primary\" htmlType=\"submit\" style={{ marginTop: 30 }} >\n                                完成\n                              </Button>\n                          </form>\n                          </div>\n                      </Modal>\n                    </List.Item>)\n                  } else\n                  {\n                    return <span></span>\n                  }\n                }}\n              >\n                {this.state.loading && this.state.hasMore && (\n                  <div className=\"demo-loading-container\">\n                    <Spin />\n                  </div>\n                )}\n              </List>\n            </InfiniteScroll>\n          </div>\n        );\n      }\n} \n\nexport default importantList;\n"]},"metadata":{},"sourceType":"module"}